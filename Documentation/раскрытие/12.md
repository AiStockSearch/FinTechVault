Критерии приемки и интеграция для Эпика 12: Кошелек Wealth Project MVP
1. Введение
Документ детализирует Эпик 12: Кошелек для MVP Wealth Project, включая критерии приемки, способ интеграции, минимальный тест и максимальную погруженность. Эпик охватывает привязку MetaMask и создание нового EVM-адреса.
Цель: Завершить кошелек за 4 недели (к августу 2025), чтобы поддержать DeFi (Эпик 3), портфель (Эпик 5), с фокусом на UVP (Web3).
Контекст:

Эпик 12 критичен для Web3, влияет на Эпики 3, 5.
Технический стек: Go, gRPC, Wails, React Native, MetaMask, EVM.
Зависимости: Эпик 1 (инфраструктура), Эпик 8 (безопасность), Эпик 11 (авторизация).

2. Описание Эпика 12
Эпик 12: КошелекОписание: Реализация модуля для привязки MetaMask или создания нового EVM-адреса, с управлением в UI.
Приоритет: ВысокийОбоснование: Кошелек интегрирует DeFi и Web3, обеспечивая доступ к Uniswap.
Оценка времени: 4 недели (1920 часов).
3. Критерии приемки
3.1. Общие критерии приемки
Минимальные критерии приемки (Minimal Test)

MetaMask:
Привязка MetaMask успешна через UI (Wails).
Баланс SOL ($1000) отображается.


Новый адрес:
EVM-адрес создается, приватный ключ зашифрован.


Модуль кошелька:
UI показывает баланс, адрес.
Тестовая транзакция SOL ($10) на Uniswap успешна.


Производительность:
Привязка < 3 секунды.



Raскрытие:

Минимальный тест проверяет базовый кошелек.
Пример: Пользователь привязывает MetaMask, видит баланс, отправляет $10.

Максимальные критерии приемки (Full Immersion)

MetaMask:
Привязка через Wails/React Native.
Поддержка 5 сетей (Ethereum, Polygon, BSC).
Логи в ELK Stack.


Новый адрес:
Поддержка HD-кошельков (BIP-44).
Ключи в Vault, ротация.


Модуль:
UI с историей транзакций, QR-кодом адреса.
Локализация, оффлайн-режим.
1000 транзакций/минута.


Производительность:
Привязка < 1 секунда.
10,000 транзакций/минута.



Raскрытие:

Максимальная погруженность обеспечивает масштабируемость, Web3.
Пример: 50 пользователей привязывают MetaMask, видят историю, оффлайн-режим.

Summary: Минимальные критерии подтверждают базовый кошелек, максимальные — масштабируемость.
3.2. Минимальный тест
Что должно быть:

MetaMask: Привязка, баланс $1000.
Адрес: Создание, шифрование.
UI: Баланс, транзакция $10.
Время: < 3 секунды.

Как выглядит:

Пользователь привязывает MetaMask, отправляет $10.

Критерии успеха:

Привязка успешна.
Транзакция выполнена.
UI < 3 секунды.

Summary: Минимальный тест проверяет кошелек за 4 недели.
3.3. Максимальная погруженность
Как должно выглядеть:

MetaMask: 5 сетей, ELK.
Адрес: HD-кошельки, Vault.
UI: История, QR, оффлайн.
Производительность: 10,000 транзакций/минута.

Пример: 50 пользователей видят историю, используют QR, оффлайн.
Summary: Максимальная погруженность для альфа-теста.
4. Способ интеграции
4.1. Компоненты

Микросервис кошелька:
Интеграция: MetaMask, Web3.js через gRPC.
Влияние: DeFi, портфель.


Wails/React Native:
Интеграция: REST API (/wallet).
Влияние: UI.


SQLite/Vault:
Интеграция: Хранит адреса.
Влияние: Данные.



4.2. Техническая интеграция

REST: UI → сервис.
gRPC: Сервис → DeFi.
CI/CD: GitHub Actions.
Мониторинг: ELK.

Raскрытие: Сервис привязывает MetaMask, UI отображает баланс, данные в Vault.
Summary: Интеграция через REST, gRPC обеспечивает кошелек.
5. Следующие шаги

Импортировать задачи 12.1–12.3 в Jira.
Начать спринт 3 (август 2025) с задачи 12.1.
Ревью MetaMask через 2 недели.

